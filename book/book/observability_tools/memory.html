<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Memory - system-performance</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../linux_60-Second_analysis.html"><strong aria-hidden="true">1.</strong> Linux 60 Second Analysis</a></li><li class="chapter-item expanded "><a href="../bpftrace.html"><strong aria-hidden="true">2.</strong> Bpftrace one-line commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../bpftrace/cpu.html"><strong aria-hidden="true">2.1.</strong> CPU</a></li><li class="chapter-item expanded "><a href="../bpftrace/memory.html"><strong aria-hidden="true">2.2.</strong> Memory</a></li><li class="chapter-item expanded "><a href="../bpftrace/fs.html"><strong aria-hidden="true">2.3.</strong> File Systems</a></li><li class="chapter-item expanded "><a href="../bpftrace/disk.html"><strong aria-hidden="true">2.4.</strong> Disks</a></li><li class="chapter-item expanded "><a href="../bpftrace/networking.html"><strong aria-hidden="true">2.5.</strong> Networking</a></li></ol></li><li class="chapter-item expanded "><a href="../observability_tools/introdution.html"><strong aria-hidden="true">3.</strong> observability_tools</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../observability_tools/memory.html" class="active"><strong aria-hidden="true">3.1.</strong> Memory</a></li></ol></li><li class="chapter-item expanded "><a href="../chapter_1/introdution.html"><strong aria-hidden="true">4.</strong> Technology Background</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chapter_1/bpf.html"><strong aria-hidden="true">4.1.</strong> BPF</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">system-performance</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h2 id="memory-observability-tools"><a class="header" href="#memory-observability-tools">Memory observability tools</a></h2>
<ol>
<li>
<h3 id="vmstat"><a class="header" href="#vmstat">vmstat</a></h3>
<pre><code class="language-bash">vmstat -Sm 1 # to megabytes
vmstat -a 1  # print a breakdown of inactive and active from page cache
vmstat -w 1  # wide output
</code></pre>
</li>
<li>
<h3 id="psi-linux-pressure-stall-information-added-in-linux-420"><a class="header" href="#psi-linux-pressure-stall-information-added-in-linux-420">PSI (linux pressure stall information) added in linux 4.20</a></h3>
<pre><code class="language-bash">cat /proc/pressure/memory
#some avg10=2.84 avg60=1.23 avg300=0.32 total=1468344
#full avg10=1.85 avg60=0.66 avg300=0.16 total=702578
</code></pre>
<p>PSI statistics are also tracked per cgroup2</p>
</li>
<li>
<h3 id="swapon"><a class="header" href="#swapon">swapon</a></h3>
<pre><code class="language-bash">swapon
#NAME           TYPE       SIZE USED PRIO
#/dev/nvme0n1p7 partition 15.6G   0B   -2
</code></pre>
</li>
<li>
<h3 id="sar-system-activity-reporter"><a class="header" href="#sar-system-activity-reporter">sar (system activity reporter)</a></h3>
<ul>
<li>
<p><strong>-B:</strong> paging statistics</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Statistics</th><th style="text-align: center">Description</th><th style="text-align: center">Unit</th></tr></thead><tbody>
<tr><td style="text-align: center">pgpgin/s</td><td style="text-align: center">Page-ins</td><td style="text-align: center">Kbytes/s</td></tr>
<tr><td style="text-align: center">pgpgout/s</td><td style="text-align: center">Page-outs</td><td style="text-align: center">Kbytes/s</td></tr>
<tr><td style="text-align: center">faults/s</td><td style="text-align: center">Both major and minor faults</td><td style="text-align: center">Count/s</td></tr>
<tr><td style="text-align: center">majflt/s</td><td style="text-align: center">Major faults</td><td style="text-align: center">Count/s</td></tr>
<tr><td style="text-align: center">pgfree/s</td><td style="text-align: center">Pages added to free list</td><td style="text-align: center">Count/s</td></tr>
<tr><td style="text-align: center">pgscank/s</td><td style="text-align: center">Pages scanned by background page-out daemon(kswapd)</td><td style="text-align: center">Count/s</td></tr>
<tr><td style="text-align: center"><strong>pgscand/s</strong></td><td style="text-align: center">Direct page scans</td><td style="text-align: center">Count/s</td></tr>
<tr><td style="text-align: center">pgsteal/s</td><td style="text-align: center">Page and swap cache reclaims</td><td style="text-align: center">Count/s</td></tr>
<tr><td style="text-align: center"><strong>%vmeff</strong></td><td style="text-align: center">Ratio of page steal/page scan,which shows page reclaim efficiency<br />The %vmeff metric is a useful measure of page reclaims efficiency. High means pages are successfully stolen from the inactive list(healthy); low means the system is struggling. the man page describes near 100% as high, and less than 30% as low.</td><td style="text-align: center">Percent</td></tr>
</tbody></table>
</div></li>
<li>
<p><strong>-H:</strong> Huge pages statistics</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Statistics</th><th style="text-align: center">Description</th><th style="text-align: center">Unit</th></tr></thead><tbody>
<tr><td style="text-align: center">hbhugefree</td><td style="text-align: center">Free huge pages memory (large page size)</td><td style="text-align: center">Kbytes</td></tr>
<tr><td style="text-align: center">hbhugeused</td><td style="text-align: center">Used huge pages memory</td><td style="text-align: center">Kbytes</td></tr>
<tr><td style="text-align: center">%hugeused</td><td style="text-align: center">Huge page usage</td><td style="text-align: center">Percent</td></tr>
</tbody></table>
</div></li>
<li>
<p><strong>-r:</strong> Memory utilization</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Statistics</th><th style="text-align: center">Description</th><th style="text-align: center">Unit</th></tr></thead><tbody>
<tr><td style="text-align: center">kbmemfree</td><td style="text-align: center">Free memory (completely unused)</td><td style="text-align: center">Kbytes</td></tr>
<tr><td style="text-align: center">kbavail</td><td style="text-align: center">Available memory,including pages that can be readily freed from the page cache</td><td style="text-align: center">Kbytes</td></tr>
<tr><td style="text-align: center">kbmemused</td><td style="text-align: center">Used memory (excluding the kernel)</td><td style="text-align: center">Kbytes</td></tr>
<tr><td style="text-align: center">%memused</td><td style="text-align: center">Memory usage</td><td style="text-align: center">Percent</td></tr>
<tr><td style="text-align: center">kbbuffers</td><td style="text-align: center">Buffer cache size</td><td style="text-align: center">Kbytes</td></tr>
<tr><td style="text-align: center">kbcached</td><td style="text-align: center">Page cache size</td><td style="text-align: center">Kbytes</td></tr>
<tr><td style="text-align: center">kbcommit</td><td style="text-align: center">Main memory committed: an estimate of the amount needed to serve the current workload</td><td style="text-align: center">Kbytes</td></tr>
<tr><td style="text-align: center">%commit</td><td style="text-align: center">Main memory committed for current workload, estimate</td><td style="text-align: center">Percent</td></tr>
<tr><td style="text-align: center">kbactive</td><td style="text-align: center">Active list memory size</td><td style="text-align: center">Kbytes</td></tr>
<tr><td style="text-align: center">kbinact</td><td style="text-align: center">Inactive list memory size</td><td style="text-align: center">Kbytes</td></tr>
<tr><td style="text-align: center">kbdirtyw</td><td style="text-align: center">Modified memory to be written to disk</td><td style="text-align: center">Kbytes</td></tr>
</tbody></table>
</div></li>
<li>
<p><strong>-r ALL</strong></p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Statistics</th><th style="text-align: center">Description</th><th style="text-align: center">Unit</th></tr></thead><tbody>
<tr><td style="text-align: center">kbanonpg</td><td style="text-align: center">Process anonymous memory</td><td style="text-align: center">Kbytes</td></tr>
<tr><td style="text-align: center">kbslab</td><td style="text-align: center">Kernel slab cache size</td><td style="text-align: center">Kbytes</td></tr>
<tr><td style="text-align: center">kbkstack</td><td style="text-align: center">Kernel stack space size</td><td style="text-align: center">Kbytes</td></tr>
<tr><td style="text-align: center">kbpgtbl</td><td style="text-align: center">Lowest-level page table size</td><td style="text-align: center">Kbytes</td></tr>
<tr><td style="text-align: center">kbvmuused</td><td style="text-align: center">Used virtual address space</td><td style="text-align: center">Kbytes</td></tr>
</tbody></table>
</div></li>
<li>
<p><strong>-S:</strong> Swap space statistics</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Statistics</th><th style="text-align: center">Description</th><th style="text-align: center">Unit</th></tr></thead><tbody>
<tr><td style="text-align: center">kbswapfree</td><td style="text-align: center">Free swap space</td><td style="text-align: center">Kbytes</td></tr>
<tr><td style="text-align: center">kbswapused</td><td style="text-align: center">Used swap space</td><td style="text-align: center">Kbytes</td></tr>
<tr><td style="text-align: center">%swpused</td><td style="text-align: center">Used swap space</td><td style="text-align: center">Percent</td></tr>
<tr><td style="text-align: center">kbswpcad</td><td style="text-align: center">Cached swap space: this resides in both main memory and the swap device and so can be paged out without disk  I/O</td><td style="text-align: center">Kbytes</td></tr>
<tr><td style="text-align: center">%swpcad</td><td style="text-align: center">Ratio of cached swap versus used swap</td><td style="text-align: center">Percent</td></tr>
</tbody></table>
</div></li>
<li>
<p><strong>-W:</strong> Swapping statistics</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Statistics</th><th style="text-align: center">Description</th><th style="text-align: center">Unit</th></tr></thead><tbody>
<tr><td style="text-align: center">pswpin/s</td><td style="text-align: center">Page-ins(Linux &quot;swap-ins&quot;)</td><td style="text-align: center">Pages/s</td></tr>
<tr><td style="text-align: center">pswpout/s</td><td style="text-align: center">Page-outs(Linux &quot;swap-outs&quot;)</td><td style="text-align: center">Pages/s</td></tr>
</tbody></table>
</div></li>
</ul>
</li>
<li>
<h3 id="slabtop-prints-kernel-slab-cache-usage-from-the-slab-allocator"><a class="header" href="#slabtop-prints-kernel-slab-cache-usage-from-the-slab-allocator">slabtop: prints kernel slab cache usage from the slab allocator</a></h3>
<pre><code class="language-bash">slabtop -sc # sort by cache size
</code></pre>
</li>
<li>
<h3 id="numastat"><a class="header" href="#numastat">numastat</a></h3>
</li>
<li>
<h3 id="ps"><a class="header" href="#ps">ps</a></h3>
<pre><code class="language-bash">ps -oe pid,pmem,vsz,rss,comm # using the SVR4-style -o option
</code></pre>
</li>
<li>
<h3 id="top"><a class="header" href="#top">top</a></h3>
<pre><code class="language-bash">top -o %MEM # sort by memory usage
</code></pre>
</li>
<li>
<h3 id="pmap"><a class="header" href="#pmap">pmap</a></h3>
<pre><code class="language-bash">pmap -x  5187
pmap -X  5187  # more details
pmap -XX 5187
</code></pre>
</li>
<li>
<h3 id="perf"><a class="header" href="#perf">perf</a></h3>
<ul>
<li>
<p>One-Liners</p>
<pre><code class="language-bash"># Sample page faults (RSS growth) with stack traces system wide
perf record -e page-faults -a -g
# Record all page faults with stack traces for PID 1843, for 60 seconds
perf record -e page-faults -c 1 -p 1822 -g -- sleep 60
# Record heap growth via brk(2)
perf record -e syscalls:sys_enter_brk -a -g
# Record page migrations on NUMA systems
perf record -e migrate:mm_migrate_pages -a
# Count all kmem events, printing a report every second
perf stat -e 'kmem:*' -a -I 1000
# Count all vmscan events, printing a report every second
perf stat -e 'vmscan:*' -a -I 1000
# Count memory compaction events, printing a report every second
perf stat -e 'compaction:*' -a -I 1000
# Trace kswapd wakeup events with stack traces
perf record -e vmscan:mm_vmscan_wakeup_kswapd  -ag
# Profile memory access for the given command
perf mem record command
# Summarize a memory profile
perf mem report
# Print all events
perf script --header
</code></pre>
<p>How to generate flame graph?</p>
<pre><code class="language-bash"># perf record -e page-faults -a -g -- sleep 60
# perf script --header &gt; out.stacks
$ git clone https://github.com/brendangregg/FlameGraph; cd FlameGraph
$ ./stackcollapse-perf.pl &lt; ../out.stacks | ./flamegraph.pl --hash \
--bgcolor=green --count=pages --title=&quot;Page Fault Flame Graph&quot; &gt; out.svg
</code></pre>
</li>
</ul>
</li>
<li>
<h3 id="drsnoop"><a class="header" href="#drsnoop">drsnoop</a></h3>
<p>is a BCC tool for tracing the direct reclaim approach to freeing memory, showing the process affected and the latency: the time taken for the reclaim.</p>
<p>It can be used to quantify the application performance impact of a memory-constrained system.</p>
<pre><code class="language-bash">drsnoop -T
</code></pre>
</li>
<li>
<h3 id="wssworking-set-size"><a class="header" href="#wssworking-set-size">wss(working set size)</a></h3>
<p>this tools works by resetting the PTE accessed bit for every page in a process, pausing for an interval, and then checking the bits to see which have been set.</p>
<p>WARNINGS: this tool uses <code>/proc/PID/clear_refs</code> and <code>/proc/PID/smaps</code>, which can cause slightly higher application latency (e.g, <strong>10%</strong>) while the kernel walks page structures. For large processes (&gt; 100Gbytes), this duration of higher latency can last over one second, during which this tool is consuming system CPU time.</p>
<p>Keep these overheads in mind. this tool also resets the referenced flag, which might confuse the kernel as to which pages to reclaim, especially if swapping is active.</p>
</li>
<li>
<h3 id="bpftrace"><a class="header" href="#bpftrace">bpftrace</a></h3>
<pre><code class="language-bash"># Show libc malloc() request bytes by user stack for PID 181 as a power-of-2 histogram (high overhead)
bpftrace -e 'uprobe:/lib/x86_64-linux-gnu/libc.so.6:malloc /pid == 181/ { @[ustack] = hist(arg0); }'

# Sum kernel kmem cache allocation bytes by kernel stack trace
bpftrace -e 't:kmem:kmem_cache_alloc {@bytes[kstack] = sum(args-&gt;bytes_alloc);}'

# Count process heap expansion (brk(2)) by code path
bpftrace -e 'tracepoin:syscalls:sys_enter_brk {@[ustack,comm] = count()}'

# Count page faults by process
# Tracing page faults shows when a process grows in memory size.
bpftrace -e 'software:page-fault:1 { @[comm, pid] = count(); }'

# Count user page faults by user-level stack trace
bpftrace -e 't:exceptions:page_fault_user {@[ustack, comm] = count(); }' &gt; out.stacks
git clone https://github.com/brendangregg/FlameGraph; cd FlameGraph ./stackcollapse-bpftrace.pl &lt; ../out.stacks | ./flamegraph.pl --hash \
--bgcolor=green --count=pages --title=&quot;Page Fault Flame Graph&quot; &gt; out.svg

# Count vmscan operations by tracepoint
bpftrace -e 'tracepoint:vmscan:* {@[probe] = count(); }'

# Count swapins by process
bpftrace -e 'kprobe:swap_readpage {@[comm,pid] = count()}'

# Count page migration
bpftrace -e 'tracepoint:migration:mm_migrate_pages {@ = count(); }'

# Trace compaction events
bpftrace -e 't:compaction:mm_compaction_begin { time(); }'

# List USDT probes in libc
bpftrace -e 'usdt:/lib/x86_64-linux-gnu/libc.so.6:*'

# List kernel kmem tracepoints:
bpftrace -l 't:kmem:*'

# List all memory subsystem (mm) tracepoints
bpftracce -l 't:*:mm_*'
bpftrace -l 'tracepoint:kmem:*'

# Listing USDT probes for libc on ubuntu, if the tracepoints and USDT probes are insufficient, consider using dynamic instrumentation with kprobes and uprobes.
bpftrace -l 'usdt:/lib/x86_64-linux-gnu/libc.so.6'
</code></pre>
<p>Since memory events can be very frequent, instrumenting then can consume significant overhead. malloc(3) functions form user space can be called millions of times per second, and with the current uprobes overhead.</p>
<p>tracing them can slow a target two-fold or more, use caution and find ways to reduce this overhead, such as using maps to summarize statistics instead of printing per-event details, and tracing the fewest possible events.</p>
</li>
<li>
<p><strong>pmcarch:</strong> CPU cycle usage including LLC misses</p>
</li>
<li>
<p><strong>tlbstat:</strong> Summarize TLB cycles</p>
</li>
<li>
<p><strong>free:</strong> Cache capacity statistics</p>
</li>
<li>
<p><strong>cachestat:</strong> Page cache statistics</p>
</li>
<li>
<p><strong>oomkill:</strong> shows extra info on OOM kill events</p>
</li>
<li>
<p><strong>memleak:</strong> Shows possible memory leak code paths</p>
</li>
<li>
<p><strong>mmapsnoop:</strong> Trace mmap(2) calls system-wide</p>
</li>
<li>
<p><strong>brkstack:</strong> Show brk() calls with user stack traces</p>
</li>
<li>
<p><strong>shmsnoop:</strong> Traces shared memory calls with details</p>
</li>
<li>
<p><strong>faults:</strong> Show page faults, by user stack trace</p>
</li>
<li>
<p><strong>ffaults:</strong> Show page faults, by filename</p>
</li>
<li>
<p><strong>vmscan:</strong> Measures VM  scanner shrink and reclaim times</p>
</li>
<li>
<p><strong>swapin:</strong> Shows swap-ins by process</p>
</li>
<li>
<p><strong>hfaults:</strong> Shows huge page faults, by process</p>
</li>
<li>
<p><strong>dmesg:</strong> Check for &quot;Out of memory&quot; message from OOM killer.</p>
</li>
<li>
<p><strong>dmidecode:</strong> Show BIOS information for memory bank.</p>
</li>
<li>
<p><strong>tiptop:</strong> A version of top(1) that displays PMC statistics by process.</p>
</li>
<li>
<p><strong>valgrind:</strong> A performance analysis suite.</p>
</li>
<li>
<p><strong>iostat:</strong> if the swap device is a physical disk or slice, device I/O may be observable using iostat(1).</p>
</li>
<li>
<p><code>/proc/zoneinfo</code>: Statistics for memory zone.</p>
</li>
<li>
<p><code>/proc/buddyinfo:</code> Statistics for the kernel buddy allocator for pages.</p>
</li>
<li>
<p><code>/proc/pagetypeinfo:</code> Kernel free memory page statistics; can be used to help debug issues of kernel memory fragmentation.</p>
</li>
<li>
<p><code>/proc/devices/system/node/node*/numastat</code>: statistics for NUMA nodes.</p>
</li>
<li>
<p><strong>SysRq m:</strong> Magic SysRq has an &quot;m&quot; key to dump memory info to the console.</p>
<pre><code class="language-bash">echo m &gt; /proc/sysrq-trigger
dmesg
</code></pre>
<p>This can be useful if the system has locked up, as it may still be possible to request this information using the SysRq key sequence on the console keyboard, if available.%</p>
</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../observability_tools/introdution.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../chapter_1/introdution.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../observability_tools/introdution.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../chapter_1/introdution.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
